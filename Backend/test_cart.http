@ModernIssues_HostAddress = http://localhost:5273
@contentType = application/json

### ============================================
### CART API TESTS
### ============================================

### 1. Login để có session
POST {{ModernIssues_HostAddress}}/v1/Auth/Login
Content-Type: {{contentType}}

{
  "username": "your_username",
  "password": "your_password"
}

### 2. Lấy giỏ hàng (GET /v1/Cart)
GET {{ModernIssues_HostAddress}}/v1/Cart

### 3. Lấy tóm tắt giỏ hàng (GET /v1/Cart/summary)
GET {{ModernIssues_HostAddress}}/v1/Cart/summary

### 4. Thêm sản phẩm vào giỏ hàng (POST /v1/Cart/add)
POST {{ModernIssues_HostAddress}}/v1/Cart/add
Content-Type: {{contentType}}

{
  "productId": 1,
  "quantity": 2
}

### 5. Cập nhật số lượng sản phẩm trong giỏ (PUT /v1/Cart/item/{cartItemId})
### Thay {cartItemId} bằng ID thực tế từ response của GET /v1/Cart
PUT {{ModernIssues_HostAddress}}/v1/Cart/item/1
Content-Type: {{contentType}}

{
  "quantity": 5
}

### 6. Xóa 1 sản phẩm khỏi giỏ (DELETE /v1/Cart/item/{cartItemId})
### Thay {cartItemId} bằng ID thực tế
DELETE {{ModernIssues_HostAddress}}/v1/Cart/item/1

### 7. Xóa tất cả sản phẩm khỏi giỏ (DELETE /v1/Cart/clear)
DELETE {{ModernIssues_HostAddress}}/v1/Cart/clear

### ============================================
### CHECKOUT TEST
### ============================================

### 8. Checkout - Tạo đơn hàng từ giỏ hàng
POST {{ModernIssues_HostAddress}}/v1/Checkout
Content-Type: {{contentType}}

{
  "paymentType": "COD"
}

### ============================================
### TEST FLOW ĐẦY ĐỦ
### ============================================

### Bước 1: Login
POST {{ModernIssues_HostAddress}}/v1/Auth/Login
Content-Type: {{contentType}}

{
  "username": "your_username",
  "password": "your_password"
}

### Bước 2: Kiểm tra giỏ hàng hiện tại
GET {{ModernIssues_HostAddress}}/v1/Cart

### Bước 3: Thêm sản phẩm 1 vào giỏ
POST {{ModernIssues_HostAddress}}/v1/Cart/add
Content-Type: {{contentType}}

{
  "productId": 1,
  "quantity": 2
}

### Bước 4: Thêm sản phẩm 2 vào giỏ
POST {{ModernIssues_HostAddress}}/v1/Cart/add
Content-Type: {{contentType}}

{
  "productId": 2,
  "quantity": 1
}

### Bước 5: Xem lại giỏ hàng
GET {{ModernIssues_HostAddress}}/v1/Cart

### Bước 6: Xem tóm tắt giỏ hàng
GET {{ModernIssues_HostAddress}}/v1/Cart/summary

### Bước 7: Checkout
POST {{ModernIssues_HostAddress}}/v1/Checkout
Content-Type: {{contentType}}

{
  "paymentType": "COD"
}

### Bước 8: Kiểm tra giỏ hàng sau checkout (nên trống)
GET {{ModernIssues_HostAddress}}/v1/Cart

